{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marquis\\\\quiz-only\\\\client\\\\src\\\\components\\\\Login.js\";\n\n/* import React, { Fragment, Component } from 'react'; */\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\nimport React, { Component, Fragment } from 'react';\nconst initialState = {\n  matric: \"\",\n  password: \"\",\n  matricError: \"\",\n  passwordError: \"\"\n};\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = initialState;\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.validate = () => {\n      let matricError = \"\";\n      let passwordError = \"\";\n\n      if (!this.state.matric) {\n        matricError = \"Matric cannot be blank\";\n      }\n\n      if (!this.state.password) {\n        passwordError = \"Password cannot be blank\";\n      }\n\n      if (matricError || passwordError) {\n        this.setState({\n          matricError,\n          passwordError\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const isValid = this.validate();\n\n      if (isValid) {\n        const payload = {\n          matric: this.state.matric,\n          password: this.state.password\n        };\n        axios({\n          url: \"/user/login\",\n          method: \"POST\",\n          data: payload,\n          withCredentials: true\n        }).then(() => {\n          console.log('Data has been sent to the server');\n        }).catch(() => {\n          console.log('Sorry!! Internal server error');\n        });\n        /*  console.log(this.state); */\n        //Clear form\n\n        this.setState(initialState);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 18\n      }\n    }, \"Nimelssa Quiz - Login page\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Marquis/quiz-only/client/src/components/Login.js"],"names":["Helmet","axios","React","Component","Fragment","initialState","matric","password","matricError","passwordError","Login","state","handleChange","event","setState","target","name","value","validate","handleSubmit","preventDefault","isValid","payload","url","method","data","withCredentials","then","console","log","catch","render"],"mappings":";;AAAA;AACA,SAASA,MAAT,QAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,EADW;AAEnBC,EAAAA,QAAQ,EAAE,EAFS;AAGnBC,EAAAA,WAAW,EAAE,EAHM;AAInBC,EAAAA,aAAa,EAAE;AAJI,CAArB;;AAOA,MAAMC,KAAN,SAAoBP,SAApB,CAA6B;AAAA;AAAA;AAAA,SAC3BQ,KAD2B,GACnBN,YADmB;;AAAA,SAG3BO,YAH2B,GAGZC,KAAK,IAAI;AACtB,WAAKC,QAAL,CAAc;AACZ,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAsBH,KAAK,CAACE,MAAN,CAAaE;AADvB,OAAd;AAGD,KAP0B;;AAAA,SAS3BC,QAT2B,GAShB,MAAK;AACd,UAAIV,WAAW,GAAG,EAAlB;AACA,UAAIC,aAAa,GAAG,EAApB;;AAEA,UAAG,CAAC,KAAKE,KAAL,CAAWL,MAAf,EAAsB;AACpBE,QAAAA,WAAW,GAAG,wBAAd;AACD;;AAED,UAAG,CAAC,KAAKG,KAAL,CAAWJ,QAAf,EAAwB;AACtBE,QAAAA,aAAa,GAAG,0BAAhB;AACD;;AAED,UAAGD,WAAW,IAAIC,aAAlB,EAAgC;AAC9B,aAAKK,QAAL,CAAc;AAACN,UAAAA,WAAD;AAAcC,UAAAA;AAAd,SAAd;AACA,eAAO,KAAP;AACD;;AACA,aAAO,IAAP;AACF,KA1B0B;;AAAA,SA4B3BU,YA5B2B,GA4BXN,KAAD,IAAU;AACvBA,MAAAA,KAAK,CAACO,cAAN;AACA,YAAMC,OAAO,GAAG,KAAKH,QAAL,EAAhB;;AACA,UAAIG,OAAJ,EAAY;AAER,cAAMC,OAAO,GAAG;AACdhB,UAAAA,MAAM,EAAE,KAAKK,KAAL,CAAWL,MADL;AAEdC,UAAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWJ;AAFP,SAAhB;AAKAN,QAAAA,KAAK,CAAC;AACJsB,UAAAA,GAAG,EAAE,aADD;AAEJC,UAAAA,MAAM,EAAE,MAFJ;AAGJC,UAAAA,IAAI,EAAEH,OAHF;AAIJI,UAAAA,eAAe,EAAE;AAJb,SAAD,CAAL,CAMCC,IAND,CAMM,MAAI;AACRC,UAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD,SARD,EASCC,KATD,CASO,MAAI;AACTF,UAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD,SAXD;AAYD;AACC;;AACA,aAAKf,QAAL,CAAcT,YAAd;AACH;AACE,KAtDsB;AAAA;;AAwDzB0B,EAAAA,MAAM,GAAE;AACL,wBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAAR,CADA,eAEA;AAAM,MAAA,QAAQ,EAAE,KAAKZ,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADF;AAQF;;AAjEwB;;AAmE3B,eAAeT,KAAf","sourcesContent":["/* import React, { Fragment, Component } from 'react'; */\r\nimport { Helmet } from 'react-helmet';\r\nimport axios from 'axios';\r\nimport React, {Component, Fragment} from 'react';\r\n\r\nconst initialState = {\r\n  matric: \"\",\r\n  password: \"\",\r\n  matricError: \"\",\r\n  passwordError: \"\"\r\n}\r\n\r\nclass Login extends Component{\r\n  state = initialState;\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.name] : event.target.value\r\n    });\r\n  };\r\n\r\n  validate = () =>{\r\n    let matricError = \"\";\r\n    let passwordError = \"\"\r\n  \r\n    if(!this.state.matric){\r\n      matricError = \"Matric cannot be blank\";\r\n    }\r\n  \r\n    if(!this.state.password){\r\n      passwordError = \"Password cannot be blank\";\r\n    } \r\n  \r\n    if(matricError || passwordError){\r\n      this.setState({matricError, passwordError});\r\n      return false; \r\n    }\r\n     return true;\r\n  }\r\n\r\n  handleSubmit = (event) =>{\r\n    event.preventDefault();\r\n    const isValid = this.validate(); \r\n    if (isValid){\r\n    \r\n        const payload = {\r\n          matric: this.state.matric,\r\n          password: this.state.password\r\n        };\r\n    \r\n        axios({\r\n          url: \"/user/login\",\r\n          method: \"POST\",\r\n          data: payload,\r\n          withCredentials: true\r\n        })\r\n        .then(()=>{\r\n          console.log('Data has been sent to the server');\r\n        })\r\n        .catch(()=>{\r\n          console.log('Sorry!! Internal server error');\r\n        }) \r\n       /*  console.log(this.state); */\r\n        //Clear form\r\n        this.setState(initialState);\r\n    }\r\n      };\r\n  \r\n    render(){\r\n       return(\r\n         <Fragment>\r\n         <Helmet><title>Nimelssa Quiz - Login page</title></Helmet>\r\n         <form onSubmit={this.handleSubmit}>\r\n           \r\n         </form>\r\n     </Fragment>\r\n       )\r\n    }\r\n}\r\n  export default Login;"]},"metadata":{},"sourceType":"module"}