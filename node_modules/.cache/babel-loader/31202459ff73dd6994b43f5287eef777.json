{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Marquis\\\\quiz-only\\\\project\\\\src\\\\components\\\\quiz\\\\play.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Helmet } from 'react-helmet';\nimport M from 'materialize-css';\nimport classnames from 'classnames';\nimport questions from '../../questions.json';\nimport isEmpty from '../../utils/is-Empty';\nimport correctNotification from '../../assets/audio/correct-answer.mp3';\nimport wrongNotification from '../../assets/audio/wrong-answer.mp3';\nimport buttonSound from '../../assets/audio/button-sound.mp3';\n\nclass Play extends Component {\n  constructor(props) {\n    super(props);\n\n    this.displayQuestions = (questions = this.state.questions, currentQuestion, nextQuestion, previousQuestion) => {\n      let {\n        currentQuestionIndex\n      } = this.state;\n\n      if (!isEmpty(this.state.questions)) {\n        questions = this.state.questions;\n        currentQuestion = questions[currentQuestionIndex];\n        nextQuestion = questions[currentQuestionIndex + 1];\n        previousQuestion = questions[currentQuestionIndex - 1];\n        const answer = currentQuestion.answer;\n        this.setState({\n          currentQuestion,\n          nextQuestion,\n          previousQuestion,\n          numberOfQuestions: questions.length,\n          answer,\n          previousRandomNumbers: []\n        }, () => {\n          this.showOptions();\n          this.handleDisableButton();\n        });\n      }\n    };\n\n    this.handleOptionClick = e => {\n      if (e.target.innerHTML.toLowerCase() === this.state.answer.toLowerCase()) {\n        setTimeout(() => {\n          this.correctSound.current.play();\n        }, 500);\n        this.correctAnswer();\n      } else {\n        setTimeout(() => {\n          this.wrongSound.current.play();\n        }, 500);\n        this.wrongAnswer();\n      }\n    };\n\n    this.handleNextButtonClick = () => {\n      this.playButtonSound();\n\n      if (this.state.nextQuestion !== undefined) {\n        this.setState(prevState => ({\n          currentQuestionIndex: prevState.currentQuestionIndex + 1\n        }), () => {\n          this.displayQuestions(this.state.state, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion);\n        });\n      }\n    };\n\n    this.handlePreviousButtonClick = () => {\n      this.playButtonSound();\n\n      if (this.state.previousQuestion !== undefined) {\n        this.setState(prevState => ({\n          currentQuestionIndex: prevState.currentQuestionIndex - 1\n        }), () => {\n          this.displayQuestions(this.state.question, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion);\n        });\n      }\n    };\n\n    this.handleQuitButtonClick = () => {\n      this.playButtonSound();\n\n      if (window.confirm('Are you sure you want to quit?')) {\n        this.props.history.push('/');\n      }\n    };\n\n    this.handleButtonClick = event => {\n      switch (event.target.id) {\n        case 'next-button':\n          this.handleNextButtonClick();\n          break;\n\n        case 'previous-button':\n          this.handlePreviousButtonClick();\n          break;\n\n        case 'quit-button':\n          this.handleQuitButtonClick();\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    this.playButtonSound = () => {\n      this.buttonSound.current.play();\n    };\n\n    this.correctAnswer = () => {\n      M.toast({\n        html: \"Correct Answer\",\n        classes: \"tost-valid\",\n        displayLength: 1500\n      });\n      this.setState(prevState => ({\n        score: prevState.score + 1,\n        correctAnswers: prevState.correctAnswers + 1,\n        currentQuestionIndex: prevState.currentQuestionIndex + 1,\n        numberOfAnsweredQuestions: prevState.numberOfAnsweredQuestions + 1\n      }), () => {\n        if (this.state.nextQuestion === undefined) {\n          this.endGame();\n        } else {\n          this.displayQuestions(this.state.questions, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion);\n        }\n      });\n    };\n\n    this.wrongAnswer = () => {\n      navigator.vibrate(1000);\n      M.toast({\n        html: \"Wrong Answer!\",\n        classes: \"tost-invalid\",\n        displayLength: 1500\n      });\n      this.setState(prevState => ({\n        wrongAnswers: prevState.wrongAnswers + 1,\n        currentQuestionIndex: prevState.currentQuestionIndex + 1,\n        numberOfAnsweredQuestions: prevState.numberOfAnsweredQuestions + 1\n      }), () => {\n        if (this.state.nextQuestion === undefined) {\n          this.endGame();\n        } else {\n          this.displayQuestions(this.state.questions, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion);\n        }\n      });\n    };\n\n    this.showOptions = () => {\n      const options = Array.from(document.querySelectorAll('.option'));\n      options.forEach(option => {\n        option.style.visibility = \"visible\";\n      });\n      this.setState({\n        usedFiftyFifty: false\n      });\n    };\n\n    this.handleHints = () => {\n      if (this.state.hints > 0) {\n        const options = Array.from(document.querySelectorAll('.option'));\n        let indexOfAnswer;\n        options.forEach((option, index) => {\n          if (option.innerHTML.toLowerCase() === this.state.answer.toLowerCase()) {\n            indexOfAnswer = index;\n          }\n        });\n\n        while (true) {\n          const randomNumber = Math.round(Math.random() * 3);\n\n          if (randomNumber !== indexOfAnswer && !this.state.previousRandomNumbers.includes(randomNumber)) {\n            options.forEach((option, index) => {\n              if (index === randomNumber) {\n                option.style.visibility = \"hidden\";\n                this.setState(prevState => ({\n                  hints: prevState.hints - 1,\n                  previousRandomNumbers: prevState.previousRandomNumbers.concat(randomNumber)\n                }));\n              }\n            });\n            break;\n          }\n\n          if (this.state.previousRandomNumbers.length >= 3) break;\n        }\n      }\n    };\n\n    this.handleFiftyFifty = () => {\n      if (this.state.fiftyFifty > 0 && this.state.usedFiftyFifty === false) {\n        const options = document.querySelectorAll('.option');\n        const randomNumbers = [];\n        let indexOfAnswer;\n        options.forEach((option, index) => {\n          if (option.innerHTML.toLowerCase() === this.state.answer.toLowerCase()) {\n            indexOfAnswer = index;\n          }\n        });\n        let count = 0;\n\n        do {\n          const randomNumber = Math.round(Math.random() * 3);\n\n          if (randomNumber !== indexOfAnswer) {\n            if (randomNumbers.length < 2 && !randomNumbers.includes(randomNumber) && !randomNumbers.includes(indexOfAnswer)) {\n              randomNumbers.push(randomNumber);\n              count++;\n            } else {\n              while (true) {\n                const newRandomNumber = Math.round(Math.random() * 3);\n\n                if (!randomNumbers.includes(newRandomNumber) && !randomNumbers.includes(indexOfAnswer)) {\n                  randomNumbers.push(newRandomNumber);\n                  count++;\n                  break;\n                }\n              }\n            }\n          }\n        } while (count < 2);\n\n        options.forEach((option, index) => {\n          if (randomNumbers.includes(index)) {\n            option.style.visibility = \"hidden\";\n          }\n        });\n        this.setState(prevState => ({\n          fiftyFifty: prevState.fiftyFifty - 1,\n          usedFiftyFifty: true\n        }));\n      } else if (this.state.fiftyFifty === 0) {\n        M.toast({\n          html: \"You dont have more 50/50s left\",\n          classes: \"fiftyFifty-tost\",\n          displayLength: 1500\n        });\n      }\n    };\n\n    this.startTimer = () => {\n      const countDownTime = Date.now() + 600000;\n      this.interval = setInterval(() => {\n        const now = new Date();\n        const distance = countDownTime - now;\n        const minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n        const seconds = Math.floor(distance % (1000 * 60) / 1000);\n\n        if (distance < 0) {\n          clearInterval(this.interval);\n          this.setState({\n            time: {\n              minutes: 0,\n              seconds: 0\n            }\n          }, () => {\n            this.endGame();\n          });\n        } else {\n          this.setState({\n            time: {\n              minutes,\n              seconds\n            }\n          });\n        }\n      }, 1000);\n    };\n\n    this.handleDisableButton = () => {\n      if (this.state.previousQuestion === undefined || this.state.currentQuestionIndex === 0) {\n        this.setState({\n          previousButtonDisabled: true\n        });\n      } else {\n        this.setState({\n          previousButtonDisabled: false\n        });\n      }\n\n      if (this.state.nextQuestion === undefined || this.state.currentQuestionIndex + 1 === this.state.numberOfQuestions) {\n        this.setState({\n          nextButtonDisabled: true\n        });\n      } else {\n        this.setState({\n          nextButtonDisabled: false\n        });\n      }\n    };\n\n    this.endGame = () => {\n      alert(\"Game has ended\");\n      const {\n        state\n      } = this;\n      const playerStats = {\n        score: state.score,\n        numberOfQuestions: state.numberOfQuestions,\n        numberOfAnsweredQuestions: state.numberOfQuestions - (state.correctAnswers + state.wron),\n        correctAnswers: state.correctAnswers,\n        wrongAnswers: state.wrongAnswers,\n        fiftyFiftyUsed: 2 - state.fiftyFifty,\n        hintsUsed: 2 - state.hints\n      };\n      console.log(playerStats);\n      setTimeout(() => {\n        this.props.history.push('/play/quizSummary', playerStats);\n      }, 1000);\n    };\n\n    this.state = {\n      questions,\n      currentQuestion: {},\n      nextQuestion: {},\n      previousQuestion: {},\n      answer: '',\n      numberOfQuestions: 0,\n      numberOfAnsweredQuestions: 0,\n      currentQuestionIndex: 0,\n      correctAnswers: 0,\n      wrongAnswers: 0,\n      score: 0,\n      hints: 5,\n      fiftyFifty: 2,\n      usedFiftyFifty: false,\n      previousRandomNumbers: [],\n      nextButtonDisabled: false,\n      previousButtonDisabled: true,\n      time: {}\n    };\n    this.interval = null;\n    this.correctSound = React.createRef();\n    this.wrongSound = React.createRef();\n    this.buttonSound = React.createRef();\n  }\n\n  componentDidMount() {\n    const {\n      questions,\n      currentQuestion,\n      nextQuestion,\n      previousQuestion\n    } = this.state;\n    this.displayQuestions(questions, currentQuestion, nextQuestion, previousQuestion);\n    this.startTimer();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      currentQuestion,\n      currentQuestionIndex,\n      numberOfQuestions,\n      hints,\n      fiftyFifty,\n      time\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 25\n      }\n    }, \"Nimelssa quiz page\")), /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"audio\", {\n      ref: this.correctSound,\n      src: correctNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"audio\", {\n      ref: this.wrongSound,\n      src: wrongNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"audio\", {\n      ref: this.buttonSound,\n      src: buttonSound,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"questions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 21\n      }\n    }, \"Quiz Mode\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"lifeline-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.handleFiftyFifty,\n      className: \"mdi mdi-set-center mdi-24px lifeline-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"lifeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 33\n      }\n    }, fiftyFifty))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      onClick: this.handleHints,\n      className: \"mdi mdi-lightbulb-on-outline mdi-24px lifeline-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"lifeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 31\n      }\n    }, hints)))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 21\n      }\n    }, currentQuestionIndex + 1, \" of \", numberOfQuestions), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 21\n      }\n    }, time.minutes, \" : \", time.seconds, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mdi mdi-clock-outline mdi-24px lifeline-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 76\n      }\n    })))), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }\n    }, currentQuestion.question), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"options-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.handleOptionClick,\n      className: \"option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 21\n      }\n    }, currentQuestion.optionA), /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.handleOptionClick,\n      className: \"option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 21\n      }\n    }, currentQuestion.optionB)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"options-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.handleOptionClick,\n      className: \"option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 21\n      }\n    }, currentQuestion.optionC), /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.handleOptionClick,\n      className: \"option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 21\n      }\n    }, currentQuestion.optionD)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: classnames('', {\n        'disable': this.state.previousButtonDisabled\n      }),\n      id: \"previous-button\",\n      onClick: this.handleButtonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 21\n      }\n    }, \"Previous\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: classnames('', {\n        'disable': this.state.nextButtonDisabled\n      }),\n      id: \"next-button\",\n      onClick: this.handleButtonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 22\n      }\n    }, \"Next\"), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"quit-button\",\n      onClick: this.handleButtonClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 22\n      }\n    }, \"Quit\"))));\n  }\n\n}\n\nexport default Play;","map":{"version":3,"sources":["C:/Users/Marquis/quiz-only/project/src/components/quiz/play.js"],"names":["React","Component","Fragment","Helmet","M","classnames","questions","isEmpty","correctNotification","wrongNotification","buttonSound","Play","constructor","props","displayQuestions","state","currentQuestion","nextQuestion","previousQuestion","currentQuestionIndex","answer","setState","numberOfQuestions","length","previousRandomNumbers","showOptions","handleDisableButton","handleOptionClick","e","target","innerHTML","toLowerCase","setTimeout","correctSound","current","play","correctAnswer","wrongSound","wrongAnswer","handleNextButtonClick","playButtonSound","undefined","prevState","handlePreviousButtonClick","question","handleQuitButtonClick","window","confirm","history","push","handleButtonClick","event","id","toast","html","classes","displayLength","score","correctAnswers","numberOfAnsweredQuestions","endGame","navigator","vibrate","wrongAnswers","options","Array","from","document","querySelectorAll","forEach","option","style","visibility","usedFiftyFifty","handleHints","hints","indexOfAnswer","index","randomNumber","Math","round","random","includes","concat","handleFiftyFifty","fiftyFifty","randomNumbers","count","newRandomNumber","startTimer","countDownTime","Date","now","interval","setInterval","distance","minutes","floor","seconds","clearInterval","time","previousButtonDisabled","nextButtonDisabled","alert","playerStats","wron","fiftyFiftyUsed","hintsUsed","console","log","createRef","componentDidMount","componentWillUnmount","render","optionA","optionB","optionC","optionD"],"mappings":"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","sourcesContent":[" import React, { Component, Fragment } from 'react';\r\n import { Helmet } from 'react-helmet';\r\n import M from 'materialize-css';\r\n import classnames from 'classnames';\r\n \r\n import questions from '../../questions.json';\r\n import isEmpty from '../../utils/is-Empty';\r\n import correctNotification from '../../assets/audio/correct-answer.mp3';\r\n import wrongNotification from '../../assets/audio/wrong-answer.mp3';\r\n import buttonSound from '../../assets/audio/button-sound.mp3';\r\n\r\n class Play extends Component {\r\n     constructor(props){\r\n         super(props);\r\nthis.state = {\r\n    questions,\r\n    currentQuestion:{},\r\n    nextQuestion:{},\r\n    previousQuestion:{},\r\n    answer:'',\r\n    numberOfQuestions:0,\r\n    numberOfAnsweredQuestions:0,\r\n    currentQuestionIndex:0,\r\n    correctAnswers:0,\r\n    wrongAnswers:0,\r\n    score:0,\r\n    hints:5,\r\n    fiftyFifty:2,\r\n    usedFiftyFifty:false,\r\n    previousRandomNumbers:[],\r\n    nextButtonDisabled:false,\r\n    previousButtonDisabled: true,\r\n    time:{}\r\n};\r\nthis.interval = null;\r\nthis.correctSound = React.createRef();\r\nthis.wrongSound = React.createRef();\r\nthis.buttonSound = React.createRef();\r\n   }\r\n  \r\n   componentDidMount (){\r\n    const { questions, currentQuestion, nextQuestion, previousQuestion } = this.state;\r\n    this.displayQuestions(questions, currentQuestion, nextQuestion, previousQuestion ); \r\n    this.startTimer()\r\n}\r\n\r\ncomponentWillUnmount(){\r\n    clearInterval(this.interval);\r\n}\r\n\r\n displayQuestions = (questions = this.state.questions, currentQuestion, nextQuestion, previousQuestion) => {\r\nlet { currentQuestionIndex } = this.state;\r\nif(!isEmpty(this.state.questions)){\r\n    questions = this.state.questions;\r\n    currentQuestion = questions[currentQuestionIndex];\r\n    nextQuestion = questions[currentQuestionIndex + 1];\r\n    previousQuestion = questions[currentQuestionIndex - 1];\r\n    const answer = currentQuestion.answer;\r\n    this.setState({\r\n        currentQuestion,\r\n        nextQuestion,\r\n        previousQuestion,\r\n        numberOfQuestions: questions.length,\r\n        answer,\r\n        previousRandomNumbers: []\r\n},() => { \r\nthis.showOptions();\r\nthis.handleDisableButton();\r\n});\r\n  }\r\n    }  \r\n   \r\nhandleOptionClick = (e) =>{\r\n   if(e.target.innerHTML.toLowerCase() === this.state.answer.toLowerCase()){\r\n       setTimeout(() => {\r\n        this.correctSound.current.play();\r\n       }, 500)\r\n       this.correctAnswer();\r\n   }else{\r\n       setTimeout(() => {\r\n        this.wrongSound.current.play();\r\n       }, 500)\r\n       this.wrongAnswer();\r\n   }\r\n};\r\n\r\nhandleNextButtonClick = () =>{\r\n    this.playButtonSound();\r\nif(this.state.nextQuestion !== undefined){\r\n    this.setState(prevState => ({\r\n        currentQuestionIndex: prevState.currentQuestionIndex + 1\r\n    }), () => {\r\n        this.displayQuestions(this.state.state, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion)\r\n    });\r\n }\r\n};\r\n\r\nhandlePreviousButtonClick = () =>{\r\n    this.playButtonSound();\r\nif(this.state.previousQuestion !== undefined){\r\n    this.setState(prevState => ({\r\n        currentQuestionIndex: prevState.currentQuestionIndex - 1\r\n    }), () => {\r\n        this.displayQuestions(this.state.question, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion)\r\n    })\r\n}\r\n}\r\n\r\nhandleQuitButtonClick = () => {\r\n    this.playButtonSound();\r\n if(window.confirm('Are you sure you want to quit?')){\r\n     this.props.history.push('/');\r\n   }\r\n}\r\nhandleButtonClick = (event) => {\r\n    switch (event.target.id) {\r\n        case 'next-button':\r\n            this.handleNextButtonClick();\r\n            break;\r\n\r\n        case 'previous-button':\r\n            this.handlePreviousButtonClick();\r\n            break;\r\n\r\n        case 'quit-button':\r\n            this.handleQuitButtonClick();\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nplayButtonSound = () => {\r\n   this.buttonSound.current.play();\r\n}\r\n\r\ncorrectAnswer = () => {\r\n    M.toast({\r\n        html:\"Correct Answer\",\r\n        classes: \"tost-valid\",\r\n        displayLength:1500\r\n    });\r\n    this.setState((prevState) => ({\r\n        score:prevState.score + 1,\r\n        correctAnswers:prevState.correctAnswers + 1,\r\n        currentQuestionIndex:prevState.currentQuestionIndex + 1,\r\n        numberOfAnsweredQuestions:prevState.numberOfAnsweredQuestions + 1\r\n    }), () => {\r\n        if(this.state.nextQuestion === undefined) {\r\n            this.endGame();\r\n        }else{\r\n            this.displayQuestions(this.state.questions, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion)\r\n        }\r\n    });\r\n};\r\n\r\nwrongAnswer = () =>{\r\n    navigator.vibrate(1000);\r\n    M.toast({\r\n        html:\"Wrong Answer!\",\r\n        classes: \"tost-invalid\",\r\n        displayLength:1500\r\n    })\r\n    this.setState((prevState) => ({\r\n        wrongAnswers:prevState.wrongAnswers + 1,\r\n        currentQuestionIndex: prevState.currentQuestionIndex + 1,\r\n        numberOfAnsweredQuestions: prevState.numberOfAnsweredQuestions + 1\r\n    }), () => {\r\n        if(this.state.nextQuestion === undefined) {\r\n            this.endGame();\r\n        }else{\r\n            this.displayQuestions(this.state.questions, this.state.currentQuestion, this.state.nextQuestion, this.state.previousQuestion) \r\n        }\r\n    });\r\n}\r\n\r\n showOptions = () => {\r\n    const options = Array.from(document.querySelectorAll('.option'));\r\n\r\n     options.forEach((option) => {\r\n     option.style.visibility = \"visible\";\r\n     });\r\n\r\n    this.setState({\r\n        usedFiftyFifty: false\r\n    })\r\n }\r\n\r\n handleHints = () => {\r\n     if(this.state.hints > 0){\r\n        const options = Array.from(document.querySelectorAll('.option'));\r\n        let indexOfAnswer;\r\n    \r\n        options.forEach((option, index) => {\r\n            if(option.innerHTML.toLowerCase() === this.state.answer.toLowerCase()){\r\n            indexOfAnswer = index;\r\n              }\r\n            });\r\n            \r\n            while (true) {\r\n              const randomNumber = Math.round(Math.random() * 3);\r\n                if(randomNumber !== indexOfAnswer && !this.state.previousRandomNumbers.includes(randomNumber)){\r\n                   options.forEach((option, index) => {\r\n                     if(index === randomNumber){\r\n                        option.style.visibility = \"hidden\";\r\n                        this.setState((prevState) => ({\r\n                            hints: prevState.hints - 1,\r\n                            previousRandomNumbers: prevState.previousRandomNumbers.concat(randomNumber)\r\n                        }));\r\n                    }\r\n                      });\r\n                        break;\r\n                 }\r\n                if(this.state.previousRandomNumbers.length >= 3) break;\r\n            }\r\n     }\r\n}\r\n \r\nhandleFiftyFifty = () => {\r\n     if (this.state.fiftyFifty > 0 && this.state.usedFiftyFifty === false){\r\n        const options = document.querySelectorAll('.option');\r\n        const randomNumbers = [];   \r\n        let indexOfAnswer;\r\n\r\n        options.forEach((option, index) => {\r\n            if(option.innerHTML.toLowerCase() === this.state.answer.toLowerCase()){\r\n            indexOfAnswer = index;\r\n          }\r\n        });\r\n    \r\n        let count = 0;\r\n        do {\r\n            const randomNumber = Math.round(Math.random() * 3);\r\n            if(randomNumber !== indexOfAnswer){\r\n            if(randomNumbers.length < 2 && !randomNumbers.includes(randomNumber) && !randomNumbers.includes(indexOfAnswer)){\r\n                randomNumbers.push(randomNumber);  \r\n                count ++;\r\n              }else{\r\n                  while(true){\r\n                    const newRandomNumber = Math.round(Math.random() * 3);\r\n                    if(!randomNumbers.includes(newRandomNumber) && !randomNumbers.includes(indexOfAnswer)){\r\n                        randomNumbers.push(newRandomNumber);\r\n                        count ++;\r\n                        break;\r\n                    }\r\n                  }\r\n              }\r\n            }\r\n        } \r\n        while (count < 2);\r\n        options.forEach((option, index) => {\r\n            if(randomNumbers.includes(index)){\r\n                option.style.visibility = \"hidden\"; \r\n            }\r\n        });\r\n        this.setState( prevState => ({\r\n            fiftyFifty: prevState.fiftyFifty - 1,\r\n            usedFiftyFifty: true\r\n        }));\r\n    } \r\n    else if(this.state.fiftyFifty === 0){\r\n        M.toast({\r\n            html: \"You dont have more 50/50s left\",\r\n            classes: \"fiftyFifty-tost\",\r\n            displayLength: 1500\r\n        })\r\n    }  \r\n};\r\n\r\nstartTimer = () => {\r\n    const countDownTime = Date.now() + 600000;\r\n    this.interval = setInterval(() => {\r\nconst now = new Date();\r\nconst distance = countDownTime - now;\r\n\r\nconst minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\nconst seconds = Math.floor((distance % (1000 * 60)) / (1000));\r\n\r\nif(distance < 0){\r\n    clearInterval(this.interval);\r\n    this.setState({\r\n        time: {\r\n            minutes: 0,\r\n            seconds: 0\r\n        }\r\n    }, () => {\r\n        this.endGame();\r\n    });\r\n}else{\r\n    this.setState({\r\n       time: {\r\n        minutes,\r\n        seconds\r\n       }});\r\n    }\r\n}, 1000);\r\n};\r\n\r\nhandleDisableButton = () => {\r\n    if(this.state.previousQuestion === undefined || this.state.currentQuestionIndex === 0){\r\n        this.setState({\r\n            previousButtonDisabled: true\r\n        });\r\n    }else{\r\n        this.setState({\r\n            previousButtonDisabled: false\r\n        });\r\n    }\r\n\r\n    if(this.state.nextQuestion === undefined || this.state.currentQuestionIndex + 1 === this.state.numberOfQuestions){\r\n        this.setState({\r\n            nextButtonDisabled: true\r\n        });\r\n    }else{\r\n        this.setState({\r\n            nextButtonDisabled: false\r\n        });\r\n    }\r\n}\r\n\r\nendGame = () => {\r\n    alert(\"Game has ended\");\r\n    const { state } = this;\r\n    const playerStats = {\r\n        score: state.score,\r\n        numberOfQuestions: state.numberOfQuestions,\r\n        numberOfAnsweredQuestions: state.numberOfQuestions - (state.correctAnswers + state.wron),\r\n        correctAnswers: state.correctAnswers,\r\n        wrongAnswers: state.wrongAnswers,\r\n        fiftyFiftyUsed: 2 - state.fiftyFifty,\r\n        hintsUsed: 2 - state.hints\r\n    };\r\n    console.log(playerStats);\r\n    setTimeout(() => {\r\nthis.props.history.push('/play/quizSummary', playerStats);\r\n    }, 1000);\r\n};\r\n    render(){\r\n         const { \r\n            currentQuestion,\r\n            currentQuestionIndex,\r\n            numberOfQuestions, \r\n            hints,\r\n            fiftyFifty ,\r\n            time } = this.state;\r\n\r\n         return(\r\n             <Fragment>\r\n                <Helmet><title>Nimelssa quiz page</title></Helmet>\r\n                <Fragment>\r\n                    <audio ref={this.correctSound} src={correctNotification}></audio>\r\n                    <audio ref={this.wrongSound} src={wrongNotification}></audio>\r\n                    <audio ref={this.buttonSound} src={buttonSound}></audio>\r\n                </Fragment>\r\n                <div className=\"questions\">\r\n                    <h2>Quiz Mode</h2>\r\n                <div className=\"lifeline-container\">\r\n                    <p>\r\n                        <span onClick={this.handleFiftyFifty} className='mdi mdi-set-center mdi-24px lifeline-icon'>\r\n                                <span className=\"lifeline\">{fiftyFifty}</span>\r\n                        </span>\r\n                    </p>\r\n                    <p>\r\n                        <span onClick={this.handleHints} className=\"mdi mdi-lightbulb-on-outline mdi-24px lifeline-icon\">\r\n                              <span className=\"lifeline\">{hints}</span>\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n                <div>\r\n                    <p>\r\n                    <span className=\"left\">{currentQuestionIndex + 1} of {numberOfQuestions}</span>\r\n                    <span className=\"right\">{time.minutes} : {time.seconds}<span className=\"mdi mdi-clock-outline mdi-24px lifeline-icon\"></span></span>\r\n                    </p>\r\n                </div>\r\n                <h5>{currentQuestion.question}</h5>\r\n                 <div className=\"options-container\">\r\n                    <p onClick={this.handleOptionClick} className=\"option\">{currentQuestion.optionA}</p>\r\n                    <p onClick={this.handleOptionClick} className=\"option\">{currentQuestion.optionB}</p>\r\n                 </div>\r\n                 <div className=\"options-container\">\r\n                    <p onClick={this.handleOptionClick} className=\"option\">{currentQuestion.optionC}</p>\r\n                    <p onClick={this.handleOptionClick} className=\"option\">{currentQuestion.optionD}</p>\r\n                 </div>\r\n                 <div className=\"button-container\">\r\n                    <button\r\n                            className={classnames('', {'disable': this.state.previousButtonDisabled})}\r\n                            id=\"previous-button\"\r\n                            onClick={this.handleButtonClick}>\r\n                            Previous\r\n                    </button>\r\n                     <button \r\n                            className={classnames('', {'disable': this.state.nextButtonDisabled})}\r\n                            id=\"next-button\" \r\n                            onClick={this.handleButtonClick}>\r\n                            Next\r\n                      </button>\r\n                     <button id=\"quit-button\"  onClick={this.handleButtonClick}>Quit</button>\r\n                 </div>\r\n             </div>\r\n             </Fragment>\r\n         )\r\n         \r\n     }\r\n }\r\n\r\n export default Play;"]},"metadata":{},"sourceType":"module"}